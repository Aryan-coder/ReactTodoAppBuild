(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{39:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(21),i=n.n(o),s=(n(39),n(27)),r=n(6),u=n(20),l=n(28);n(40),n(52);l.a.initializeApp({apiKey:"AIzaSyDHqH4U2S4ahiz1leEfai4zbKNfX-nb-MM",authDomain:"todoapp-cf4be.firebaseapp.com",projectId:"todoapp-cf4be",storageBucket:"todoapp-cf4be.appspot.com",messagingSenderId:"715509723864",appId:"1:715509723864:web:15cfc3616c05f58a28ddad",measurementId:"G-L54KHP7EM5"});var d=l.a,j=n(16),b=(n(47),n(4)),p=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(!1),i=Object(u.a)(o,2),s=i[0],l=i[1],p=Object(j.b)();return s?Object(b.jsx)(r.a,{to:"/todo"}):Object(b.jsx)("div",{children:n?Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),d.auth().signInWithEmailAndPassword(e.target.email.value,e.target.password.value).then((function(e){d.firestore().doc("/users/"+e.user.uid).get().then((function(e){e.exists?(p({type:"SET",user:e.data()}),l(!0)):console.log("Data not found")})).catch((function(e){console.log(e)}))}))}(e)},children:[Object(b.jsx)("h2",{children:"Sign in"}),Object(b.jsx)("input",{type:"email",placeholder:"email",name:"email"}),Object(b.jsx)("input",{type:"password",placeholder:"password",name:"password"}),Object(b.jsx)("button",{type:"submit",children:"Submit"}),Object(b.jsxs)("h4",{children:["Don't have account ? ",Object(b.jsx)("span",{onClick:function(){return a(!1)},children:"click here"})," to create one."]})]})}):Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),d.auth().createUserWithEmailAndPassword(e.target.email.value,e.target.email.value).then((function(t){console.log("auth"),console.log(t),d.firestore().doc("/users/"+t.user.uid).set({name:e.target.name.value,todos:[]}).then((function(e){console.log("data"),console.log(e),a(!0)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(e)},children:[Object(b.jsx)("h2",{children:"Sign up"}),Object(b.jsx)("input",{type:"name",placeholder:"username",name:"name"}),Object(b.jsx)("input",{type:"email",placeholder:"email",name:"email"}),Object(b.jsx)("input",{type:"password",placeholder:"password",name:"password"}),Object(b.jsx)("button",{type:"submit",children:"Submit"}),Object(b.jsxs)("h4",{children:["Already have account ? ",Object(b.jsx)("span",{onClick:function(){return a(!0)},children:"click here"})," to Login."]})]})})})},h=n(34),f=(n(50),function(){var e=Object(j.c)((function(e){return e.user})),t=Object(c.useState)(e.todos),n=Object(u.a)(t,2),a=n[0],o=n[1],i=Object(c.useRef)();Object(c.useEffect)((function(){s()}),[a]);var s=function(){d.firestore().doc("/users/"+e.uid).set({name:e.name,todos:a}).then((function(e){console.log("updated")})).catch((function(e){console.log(e)}))};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"TodoApp"}),Object(b.jsxs)("div",{className:"input-area",children:[Object(b.jsx)("input",{type:"text",ref:i,placholder:"enter task",name:"task"}),Object(b.jsx)("i",{className:"fa fa-plus",onClick:function(){o([].concat(Object(h.a)(a),[{id:a.length+1,task:i.current.value}]))}})]}),Object(b.jsx)("ul",{children:a.map((function(e){return Object(b.jsx)("li",{id:e.id,onClick:function(e){return function(e){o(a.filter((function(t){return t.id!=e.target.id})))}(e)},children:e.task},e.id)}))})]})});var O=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{path:"/",exact:!0,children:Object(b.jsx)(p,{})}),Object(b.jsx)(r.b,{path:"/todo",exact:!0,children:Object(b.jsx)(f,{})})]})})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},x=n(24);var g=function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET":return{user:e.user}}};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(j.a,{store:Object(x.b)(g),children:Object(b.jsx)(O,{})})}),document.getElementById("root")),m()}},[[51,1,2]]]);
//# sourceMappingURL=main.339a04ad.chunk.js.map